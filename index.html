<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DDNetwork One — Premium Web Systems</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/ddnetwork-one/ddnetwork-store/refs/heads/main/crop_ddnlogo.png">
    
    <meta name="description" content="DDNetwork One designs premium websites, portals, and AI‑assisted experiences for modern businesses.">
    <meta name="theme-color" content="#0b0f14" />
    
    <!-- Fonts: Sora (display) + Manrope (body) + Inter (fallback) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&family=Sora:wght@500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons: RemixIcon -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <!-- RAZORPAY CHECKOUT SCRIPT -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <style>
        /* --- BASE VARIABLES (NEW PREMIUM THEME) --- */
        :root {
            --bg: #0b0f14;
            --bg-soft: #0f141b;
            --panel: rgba(255, 255, 255, 0.04);
            --panel-2: rgba(255, 255, 255, 0.06);
            --border: rgba(255, 255, 255, 0.08);
            --text: #e9eef5;
            --muted: #9fb0c4;

            --brand: #76f7d2;
            --brand-2: #8ab4ff;
            --brand-3: #ffd37c;

            --danger: #ff6b6b;
            --success: #10b981;
            --warning: #f59e0b;
            
            --shadow: 0 20px 60px rgba(0,0,0,0.4);

            --font-display: "Sora", sans-serif;
            --font-body: "Manrope", sans-serif;

            --radius: 18px;
            --radius-lg: 28px;
            --ease: cubic-bezier(.16,1,.3,1);
            --header-h: 72px;
        }

        body.theme-light {
            --bg: #f5f7fb;
            --bg-soft: #ffffff;
            --panel: rgba(255,255,255,0.75);
            --panel-2: rgba(255,255,255,0.9);
            --border: rgba(15, 23, 42, 0.08);
            --text: #0b1220;
            --muted: #5f6c82;

            --brand: #0ea5e9;
            --brand-2: #6366f1;
            --brand-3: #f59e0b;
            --shadow: 0 20px 60px rgba(15, 23, 42, 0.12);
        }

        /* --- RESET & BASE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            background: var(--bg);
            color: var(--text);
            font-family: var(--font-body);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }
        a { color: inherit; text-decoration: none; }
        img { display: block; max-width: 100%; }
        button, input, select, textarea { font-family: inherit; cursor: pointer; color: inherit; background: transparent; }
        .container { width: min(1200px, 92%); margin: 0 auto; }

        /* --- BACKGROUND ATMOSPHERE (NEW) --- */
        .bg-grid {
            position: fixed; inset: 0;
            background-image: linear-gradient(to right, rgba(255,255,255,0.03) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,0.03) 1px, transparent 1px);
            background-size: 64px 64px; pointer-events: none; z-index: 0; opacity: 0.35;
        }
        body.theme-light .bg-grid { opacity: 0.15; background-image: linear-gradient(to right, rgba(15, 23, 42, 0.05) 1px, transparent 1px), linear-gradient(to bottom, rgba(15, 23, 42, 0.05) 1px, transparent 1px); }
        
        .orb {
            position: fixed; width: 420px; height: 420px; filter: blur(60px);
            opacity: 0.35; border-radius: 50%; z-index: 0;
            animation: float 18s ease-in-out infinite;
        }
        .orb.one { background: radial-gradient(circle, var(--brand), transparent 60%); top: -140px; right: 6%; }
        .orb.two { background: radial-gradient(circle, var(--brand-2), transparent 60%); bottom: -160px; left: 8%; animation-delay: -6s; }
        .orb.three { background: radial-gradient(circle, var(--brand-3), transparent 60%); top: 45%; left: 60%; animation-delay: -10s; }
        
        @keyframes float { 0%,100% { transform: translateY(0); } 50% { transform: translateY(18px); } }

        /* Progress bar */
        .progress {
            position: fixed; top: 0; left: 0; height: 3px; width: 100%;
            transform-origin: 0 50%; transform: scaleX(0);
            background: linear-gradient(90deg, var(--brand), var(--brand-2)); z-index: 100;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3, h4 { font-family: var(--font-display); font-weight: 700; line-height: 1.2; letter-spacing: -0.02em; color: var(--text); }
        
        /* --- HEADER (NEW Sticky Pill Style) --- */
        header {
            position: fixed; top: 16px; left: 50%; transform: translateX(-50%);
            width: min(1200px, 94%); height: var(--header-h);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 18px; border-radius: 999px;
            border: 1px solid var(--border);
            background: rgba(10,14,20,0.7);
            backdrop-filter: blur(18px); -webkit-backdrop-filter: blur(18px);
            z-index: 50; transition: all 0.3s var(--ease);
        }
        body.theme-light header { background: rgba(255,255,255,0.85); }
        header.scrolled {
            top: 0; border-radius: 0; width: 100%;
            box-shadow: var(--shadow);
        }

        .logo { display: flex; align-items: center; gap: 12px; font-family: var(--font-display); font-weight: 700; letter-spacing: -0.02em; cursor: pointer; z-index: 2101; }
        .logo img { width: 34px; height: 34px; }

        nav.nav { display: none; gap: 18px; align-items: center; font-weight: 600; color: var(--muted); }
        nav.nav a, nav.nav .nav-link-item { position: relative; padding: 8px 12px; border-radius: 999px; transition: all 0.2s var(--ease); cursor: pointer; display: flex; align-items: center; gap: 4px; }
        nav.nav a:hover, nav.nav .nav-link-item:hover { color: var(--text); background: var(--panel-2); }
        nav.nav a.active, nav.nav .nav-link-item.active { color: var(--text); background: var(--panel-2); border: 1px solid var(--border); }
        
        /* Desktop Dropdowns */
        .dropdown {
            position: absolute; top: 140%; left: 50%; transform: translateX(-50%) translateY(10px);
            background: var(--bg-soft); border: 1px solid var(--border);
            min-width: 240px; border-radius: 12px; padding: 0.5rem;
            box-shadow: var(--shadow); opacity: 0; visibility: hidden;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1); z-index: 2100;
            display: flex; flex-direction: column;
        }
        body.theme-light .dropdown { background: white; }
        .nav-link-item:hover .dropdown { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }
        .dropdown li a { display: flex; align-items: center; padding: 0.75rem 1rem; border-radius: 8px; font-size: 0.9rem; font-weight: 500; transition: all 0.2s; gap: 10px; }
        .dropdown li a i { color: var(--brand); }
        .dropdown li a:hover { background: var(--panel); }

        .nav-actions { display: flex; gap: 10px; align-items: center; }

        /* --- BUTTONS (New Style) --- */
        .btn {
            padding: 12px 20px; border-radius: 999px; border: 1px solid transparent;
            font-weight: 600; transition: all 0.25s var(--ease);
            display: inline-flex; align-items: center; justify-content: center; gap: 10px;
            white-space: nowrap; font-size: 0.9rem; text-transform: none; letter-spacing: 0;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--brand), var(--brand-2));
            color: #0b0f14; box-shadow: 0 10px 30px rgba(118,247,210,0.3);
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 15px 40px rgba(118,247,210,0.4); }
        
        .btn-ghost { background: transparent; border: 1px solid var(--border); color: var(--text); }
        .btn-ghost:hover { border-color: var(--text); background: var(--panel); }
        
        .btn-danger { background: var(--danger); color: white; box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3); }
        .btn-success { background: var(--success); color: white; }
        
        .icon-btn {
            width: 40px; height: 40px; border-radius: 50%; display: grid; place-items: center;
            background: var(--panel); border: 1px solid var(--border); color: var(--text);
            transition: all 0.2s var(--ease);
        }
        .icon-btn:hover { transform: translateY(-2px); background: var(--panel-2); }

        /* --- MOBILE MENU (New Fullscreen Style) --- */
        .menu-toggle { font-size: 1.6rem; display: block; }
        .mobile-drawer-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(5px); z-index: 1999; opacity: 0; pointer-events: none; transition: opacity 0.3s; }
        .mobile-drawer-overlay.active { opacity: 1; pointer-events: all; }
        
        .mobile-drawer {
            position: fixed; top: 0; right: 0; width: 100%; height: 100vh;
            background: var(--bg-soft); z-index: 2000; padding: 100px 24px 24px;
            transform: translateX(100%); transition: transform 0.4s var(--ease);
            display: flex; flex-direction: column; gap: 1rem; overflow-y: auto;
        }
        .mobile-drawer.open { transform: translateX(0); }
        
        .mobile-nav-link {
            display: flex; align-items: center; justify-content: space-between;
            padding: 1.2rem 0; border-bottom: 1px solid var(--border);
            font-size: 1.1rem; font-weight: 700; color: var(--text); text-transform: uppercase;
        }
        .mobile-submenu { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; display: flex; flex-direction: column; gap: 0.5rem; margin-left: 1rem; }
        .mobile-submenu.open { max-height: 500px; padding: 1rem 0; }
        .mobile-submenu a { font-size: 0.95rem; font-weight: 500; color: var(--muted); display: flex; gap: 10px; align-items: center; }
        .mobile-submenu a i { color: var(--brand); }

        /* --- MAIN PAGES --- */
        main { position: relative; z-index: 2; }
        
        .page-section { 
            display: none; min-height: calc(100vh - 80px); 
            padding-top: 120px; padding-bottom: 80px; 
            opacity: 0; transform: translateY(20px); 
            transition: all 0.6s var(--ease); 
        }
        .page-section.active { display: block; opacity: 1; transform: translateY(0); }

        /* Reveal Animation */
        .reveal { opacity: 0; transform: translateY(16px); transition: all 0.6s var(--ease); }
        .reveal.visible { opacity: 1; transform: translateY(0); }

        /* --- SECTIONS & CARDS (New Design) --- */
        .section-title { font-size: clamp(1.6rem, 3.6vw, 2.6rem); margin-bottom: 10px; }
        .section-sub { color: var(--muted); max-width: 680px; margin-bottom: 2rem; }

        .card {
            background: var(--panel); border: 1px solid var(--border);
            border-radius: var(--radius); padding: 22px;
            transition: transform 0.25s var(--ease), box-shadow 0.25s var(--ease);
        }
        .card:hover { transform: translateY(-6px); box-shadow: var(--shadow); }

        .strip {
            border-top: 1px solid var(--border); border-bottom: 1px solid var(--border);
            padding: 16px 0; margin: 60px 0; overflow: hidden; background: rgba(255,255,255,0.02);
        }
        .strip-track {
            display: flex; gap: 32px; width: max-content; color: var(--muted); font-weight: 600;
            animation: marquee 28s linear infinite;
        }
        @keyframes marquee { from { transform: translateX(0); } to { transform: translateX(-50%); } }

        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 18px; }
        
        .icon-pill {
            width: 42px; height: 42px; border-radius: 12px; display: grid; place-items: center;
            background: rgba(118,247,210,0.12); color: var(--brand); border: 1px solid rgba(118,247,210,0.3);
            margin-bottom: 12px; font-size: 1.2rem;
        }

        .stats-grid { display: grid; gap: 16px; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); margin-top: 22px; }
        .stat-card { background: var(--panel-2); border: 1px solid var(--border); border-radius: 16px; padding: 14px; text-align: left; }
        .stat-number { font-family: var(--font-display); font-size: 1.6rem; margin-bottom: 4px; color: var(--text); }

        /* --- HERO (New Style) --- */
        .hero { display: grid; gap: 48px; grid-template-columns: 1fr; align-items: center; }
        .tag {
            display: inline-flex; align-items: center; gap: 8px; padding: 6px 14px; border-radius: 999px;
            background: rgba(118,247,210,0.12); border: 1px solid rgba(118,247,210,0.3);
            color: var(--brand); font-size: 0.85rem; font-weight: 600;
        }
        .hero h1 { font-size: clamp(2.6rem, 6vw, 5.2rem); line-height: 1.04; margin: 18px 0; }
        .hero p { color: var(--muted); font-size: 1.05rem; max-width: 600px; }
        .hero-cta { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 22px; }

        .hero-panel {
            background: var(--panel); border: 1px solid var(--border); border-radius: var(--radius-lg);
            padding: 22px; box-shadow: var(--shadow); position: relative; overflow: hidden;
        }
        .panel-head { display: flex; align-items: center; justify-content: space-between; margin-bottom: 14px; }
        .chip {
            padding: 6px 10px; border-radius: 999px; background: rgba(138,180,255,0.15);
            color: var(--brand-2); font-size: 0.75rem; border: 1px solid rgba(138,180,255,0.3);
        }
        .wave {
            display: flex; align-items: flex-end; gap: 4px; height: 80px; margin: 12px 0 18px;
        }
        .wave span {
            width: 6px; height: 40%; background: linear-gradient(180deg, var(--brand), var(--brand-2));
            border-radius: 6px; animation: wave 1.1s ease-in-out infinite;
            animation-delay: calc(var(--i) * 0.08s);
        }
        @keyframes wave { 0%,100% { transform: scaleY(0.35); } 50% { transform: scaleY(1); } }
        
        .panel-metrics { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 10px; }
        .metric { background: var(--panel-2); border: 1px solid var(--border); border-radius: 14px; padding: 12px; text-align: left; }
        .metric h4 { font-family: var(--font-display); font-size: 1.1rem; margin-bottom: 4px; color: var(--text); }
        .metric span { color: var(--muted); font-size: 0.85rem; }

        /* --- FORMS (Preserved Logic, New Style) --- */
        .form-group { margin-bottom: 1.5rem; text-align: left; }
        .form-label { display: block; margin-bottom: 0.6rem; font-size: 0.85rem; color: var(--muted); font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        
        .input, .form-input, .form-select, textarea {
            width: 100%; padding: 14px; border-radius: 12px; border: 1px solid var(--border);
            background: var(--panel); color: var(--text); font-size: 1rem; transition: border-color 0.2s;
        }
        .input:focus, .form-input:focus, textarea:focus { border-color: var(--brand); outline: none; box-shadow: 0 0 0 3px rgba(118,247,210,0.15); }
        
        .radio-group { display: grid; gap: 1rem; }
        .radio-option { 
            border: 1px solid var(--border); padding: 1rem 1.2rem; border-radius: 12px; 
            display: flex; align-items: center; gap: 12px; cursor: pointer; 
            transition: all 0.2s ease; background: var(--panel); 
        }
        .radio-option:hover { background: var(--panel-2); border-color: var(--text); }
        .radio-option.selected { border-color: var(--brand); background: rgba(118,247,210,0.08); }
        .radio-option.selected span { color: var(--text); font-weight: 700; }
        .radio-option input { display: none; }

        /* --- PRICING (New Style with Old Logic) --- */
        .pricing-toggle {
            display: inline-flex; gap: 6px; padding: 6px; border-radius: 999px;
            border: 1px solid var(--border); background: var(--panel); margin: 18px 0;
        }
        .toggle-btn {
            padding: 8px 14px; border-radius: 999px; border: none;
            background: transparent; color: var(--muted); font-weight: 600;
        }
        .toggle-btn.active {
            background: linear-gradient(135deg, var(--brand), var(--brand-2)); color: #0b0f14;
        }

        .price-card {
            border-radius: var(--radius-lg); padding: 24px;
            background: linear-gradient(180deg, var(--panel-2), var(--panel));
            border: 1px solid var(--border); position: relative;
            display: flex; flex-direction: column; text-align: left;
        }
        .price-card.featured { border-color: rgba(118,247,210,0.45); box-shadow: 0 24px 70px rgba(118,247,210,0.18); }
        .price { font-size: 2.2rem; font-family: var(--font-display); margin: 10px 0 8px; }
        .price span { color: var(--muted); font-size: 0.95rem; }
        
        .list { display: grid; gap: 8px; color: var(--muted); font-size: 0.95rem; margin: 12px 0 18px; }
        .list div { display: flex; align-items: center; gap: 8px; }
        .list i { color: var(--brand); }

        /* --- REVIEWS --- */
        .review-slider { position: relative; height: 220px; margin-top: 20px; }
        .review-slide {
            position: absolute; inset: 0; opacity: 0; transform: translateY(8px);
            transition: all 0.5s var(--ease); background: var(--panel);
            border: 1px solid var(--border); border-radius: var(--radius); padding: 20px;
        }
        .review-slide.active { opacity: 1; transform: translateY(0); }
        .stars { color: var(--brand-3); letter-spacing: 2px; }
        
        /* --- FAQ ACCORDION --- */
        .faq-item {
            background: var(--panel); border: 1px solid var(--border);
            border-radius: 14px; margin-bottom: 10px; overflow: hidden;
        }
        .faq-q { padding: 16px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; font-weight: 600; color: var(--text); }
        .faq-a { max-height: 0; overflow: hidden; transition: max-height 0.3s var(--ease), padding 0.3s var(--ease); padding: 0 16px; color: var(--muted); }
        .faq-item.open .faq-a { max-height: 200px; padding: 0 16px 16px; }

        /* --- FOOTER (New Style) --- */
        footer { border-top: 1px solid var(--border); padding: 44px 0 24px; color: var(--muted); background: var(--bg); position: relative; z-index: 5; }

        /* --- UTILITIES --- */
        .text-center { text-align: center; }
        .hidden { display: none !important; }
        
        /* --- PROCESSING OVERLAY (Preserved) --- */
        #processing-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(20px);
            z-index: 100002; display: none; flex-direction: column;
            justify-content: center; align-items: center; text-align: center; padding: 2rem;
        }
        .process-spinner { width: 60px; height: 60px; border: 4px solid var(--border); border-left-color: var(--brand); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 2rem; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* --- RESPONSIVE --- */
        @media (min-width: 960px) {
            nav.nav { display: flex; }
            .menu-toggle { display: none; }
            .hero { grid-template-columns: 1.2fr 0.8fr; }
        }
        @media (max-width: 640px) {
            header { padding: 0 12px; }
            .nav-actions .btn-ghost { display: none; }
            .review-slider { height: 260px; }
            .hero h1 { font-size: 2.2rem; }
        }
    </style>
</head>
<body>

    <!-- MAINTENANCE OVERLAY -->
    <div id="maintenance-overlay" style="position:fixed; inset:0; background:var(--bg); z-index:99999; display:none; justify-content:center; align-items:center; flex-direction:column;">
        <div style="text-align: center; padding: 2rem;">
            <i class="ri-tools-line" style="font-size:5rem; color: var(--warning);"></i>
            <h1 style="margin: 2rem 0 1rem;">Site Under Maintenance</h1>
            <p>We're making improvements. Check back soon.</p>
        </div>
    </div>

    <!-- PROCESSING OVERLAY -->
    <div id="processing-overlay">
        <div class="process-spinner"></div>
        <div id="process-message" style="font-size: 1.25rem; color: var(--text);">Processing...</div>
    </div>

    <!-- NOTIFICATION MODAL -->
    <div id="glass-modal-overlay" style="position:fixed; inset:0; background:rgba(0,0,0,0.8); backdrop-filter:blur(8px); z-index:100001; display:none; justify-content:center; align-items:center;">
        <div class="card" style="width:90%; max-width:450px; text-align:center;">
            <div id="glass-modal-icon-container" style="width:60px; height:60px; border-radius:50%; background:var(--panel-2); display:flex; align-items:center; justify-content:center; margin:0 auto 1.5rem; font-size:2rem; color:var(--warning);">
                <i class="ri-error-warning-line"></i>
            </div>
            <h3 id="glass-modal-title" style="margin-bottom: 0.5rem;">Action Required</h3>
            <p id="glass-modal-desc" style="color: var(--muted); margin-bottom: 2rem;">Please complete steps.</p>
            <button id="glass-modal-btn" class="btn btn-primary" style="width:100%;">Okay</button>
        </div>
    </div>

    <!-- SUCCESS MODAL -->
    <div id="idea-success-modal" style="position:fixed; inset:0; background:rgba(0,0,0,0.8); backdrop-filter:blur(8px); z-index:100010; display:none; justify-content:center; align-items:center;">
        <div class="card" style="width:90%; max-width:500px; text-align:center;">
            <div style="width:80px; height:80px; background:rgba(118,247,210,0.15); border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 2rem; font-size:3rem; color:var(--brand);">
                <i class="ri-checkbox-circle-fill"></i>
            </div>
            <h3 class="section-title" style="margin-bottom: 1rem;">Request Received!</h3>
            <p style="color: var(--muted); margin-bottom: 2rem;">Thank you! We will get back to you shortly.</p>
            <button class="btn btn-primary" style="width: 100%;" onclick="closeIdeaSuccessModal()">Back to Home</button>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-wrap" id="toastWrap" style="position:fixed; right:18px; bottom:18px; display:grid; gap:10px; z-index:120;"></div>

    <!-- Background Elements -->
    <div class="bg-grid"></div>
    <div class="orb one"></div>
    <div class="orb two"></div>
    <div class="orb three"></div>
    <div class="progress" id="progress"></div>

    <!-- HEADER -->
    <header id="mainHeader">
        <a href="/" onclick="routeLink(event, '/')" class="logo">
            <img src="https://raw.githubusercontent.com/ddnetwork-one/ddnetwork-store/refs/heads/main/crop_ddnlogo.png" alt="Logo">
            <span>DDNetwork One</span>
        </a>

        <nav class="nav">
            <a href="/" onclick="routeLink(event, '/')" class="active">Home</a>
            
            <div class="nav-link-item">
                Solutions <i class="ri-arrow-down-s-line"></i>
                <ul class="dropdown">
                    <li><a href="/pricing" onclick="routeLink(event, '/pricing')"><i class="ri-price-tag-3-fill"></i> Pricing</a></li>
                    <li><a href="/reviews" onclick="routeLink(event, '/reviews')"><i class="ri-star-smile-fill"></i> Reviews</a></li>
                    <li><a href="/clients" onclick="routeLink(event, '/clients')"><i class="ri-team-fill"></i> Clients</a></li>
                    <li><a href="/helpdesk" onclick="routeLink(event, '/helpdesk')"><i class="ri-customer-service-2-fill"></i> Helpdesk</a></li>
                </ul>
            </div>

            <div class="nav-link-item">
                About <i class="ri-arrow-down-s-line"></i>
                <ul class="dropdown">
                    <li><a href="/about-company" onclick="routeLink(event, '/about-company')"><i class="ri-building-4-fill"></i> Company</a></li>
                    <li><a href="/faq" onclick="routeLink(event, '/faq')"><i class="ri-question-answer-fill"></i> FAQ</a></li>
                    <li><a href="/privacy" onclick="routeLink(event, '/privacy')"><i class="ri-shield-keyhole-fill"></i> Privacy</a></li>
                    <li><a href="/terms" onclick="routeLink(event, '/terms')"><i class="ri-file-list-3-fill"></i> Terms</a></li>
                </ul>
            </div>

            <a href="/updates" onclick="routeLink(event, '/updates')">Updates</a>

            <div class="nav-actions" id="desktopAuthLinks">
                <!-- Injected via JS -->
                <a href="/login" onclick="routeLink(event, '/login')" class="btn btn-ghost">Login</a>
            </div>
        </nav>

        <div class="nav-actions">
            <button class="icon-btn" id="themeToggle" aria-pressed="false" title="Toggle theme">
                <i class="ri-sun-line"></i>
            </button>
            <div class="menu-toggle" onclick="toggleDrawer()"><i class="ri-menu-4-line"></i></div>
        </div>
    </header>

    <!-- MOBILE DRAWER -->
    <div id="mobileDrawerOverlay" class="mobile-drawer-overlay" onclick="toggleDrawer()"></div>
    <div class="mobile-drawer" id="mobileDrawer">
        <ul class="mobile-nav-list">
            <li class="mobile-nav-item">
                <a href="/" onclick="routeLink(event, '/'); toggleDrawer()" class="mobile-nav-link">
                    <i class="ri-home-4-fill" style="margin-right: 15px;"></i> Home
                </a>
            </li>
            <li class="mobile-nav-item">
                <div class="mobile-nav-link" onclick="toggleMobileSub(this)">
                    <span>Solutions</span> <i class="ri-arrow-down-s-line"></i>
                </div>
                <ul class="mobile-submenu">
                    <li><a href="/pricing" onclick="routeLink(event, '/pricing'); toggleDrawer()"><i class="ri-price-tag-3-fill"></i> Pricing</a></li>
                    <li><a href="/reviews" onclick="routeLink(event, '/reviews'); toggleDrawer()"><i class="ri-star-smile-fill"></i> Reviews</a></li>
                    <li><a href="/clients" onclick="routeLink(event, '/clients'); toggleDrawer()"><i class="ri-team-fill"></i> Clients</a></li>
                    <li><a href="/helpdesk" onclick="routeLink(event, '/helpdesk'); toggleDrawer()"><i class="ri-customer-service-2-fill"></i> Helpdesk</a></li>
                </ul>
            </li>
            <li class="mobile-nav-item">
                <div class="mobile-nav-link" onclick="toggleMobileSub(this)">
                    <span>About</span> <i class="ri-arrow-down-s-line"></i>
                </div>
                <ul class="mobile-submenu">
                    <li><a href="/about-company" onclick="routeLink(event, '/about-company'); toggleDrawer()"><i class="ri-building-4-fill"></i> Company</a></li>
                    <li><a href="/faq" onclick="routeLink(event, '/faq'); toggleDrawer()"><i class="ri-question-answer-fill"></i> FAQ</a></li>
                    <li><a href="/privacy" onclick="routeLink(event, '/privacy'); toggleDrawer()"><i class="ri-shield-keyhole-fill"></i> Privacy</a></li>
                    <li><a href="/terms" onclick="routeLink(event, '/terms'); toggleDrawer()"><i class="ri-file-list-3-fill"></i> Terms</a></li>
                </ul>
            </li>
            <li class="mobile-nav-item">
                <a href="/updates" onclick="routeLink(event, '/updates'); toggleDrawer()" class="mobile-nav-link">
                    <i class="ri-refresh-line" style="margin-right: 15px;"></i> Updates
                </a>
            </li>
            <div id="mobileAuthLinksContainer" style="margin-top: auto; padding-top: 2rem; border-top: 1px solid var(--border);">
                <!-- Injected via JS -->
            </div>
        </ul>
    </div>

    <!-- MAIN CONTENT -->
    <main class="container">

        <!-- === PAGE: HOME (New Design) === -->
        <section id="home" class="page-section active">
            <div class="hero">
                <div class="reveal visible">
                    <span class="tag"><i class="ri-sparkling-2-fill"></i> Malaysia-built, global-ready</span>
                    <h1>Premium websites, portals, and AI experiences that feel modern and perform fast.</h1>
                    <p>DDNetwork One helps ambitious teams build conversion-ready web experiences with clean design, measurable performance, and scalable systems.</p>
                    <div class="hero-cta">
                        <a href="/pricing" onclick="routeLink(event, '/pricing')" class="btn btn-primary">Explore Packages</a>
                        <a href="/clients" onclick="routeLink(event, '/clients')" class="btn btn-ghost">See Recent Work</a>
                    </div>

                    <div class="stats-grid visible" style="margin-top:22px;">
                        <div class="stat-card">
                            <div class="stat-number" data-count="10">0</div>
                            <div style="color:var(--muted);">Successful launches</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" data-count="2.5">0</div>
                            <div style="color:var(--muted);">Average weeks delivery</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" data-count="98">0</div>
                            <div style="color:var(--muted);">Client satisfaction %</div>
                        </div>
                    </div>
                </div>

                <div class="hero-panel reveal visible">
                    <div class="panel-head">
                        <strong style="font-family:var(--font-display);">DDN Studio Preview</strong>
                        <span class="chip">Live UI system</span>
                    </div>
                    <div style="color:var(--muted); font-size:0.95rem;">
                        Motion-first, product-grade UI with conversion-optimized layout.
                    </div>
                    <div class="wave">
                        <span style="--i:1"></span><span style="--i:2"></span><span style="--i:3"></span>
                        <span style="--i:4"></span><span style="--i:5"></span><span style="--i:6"></span>
                        <span style="--i:7"></span><span style="--i:8"></span><span style="--i:9"></span>
                        <span style="--i:10"></span><span style="--i:11"></span><span style="--i:12"></span>
                    </div>
                    <div class="panel-metrics">
                        <div class="metric"><h4>5.0</h4><span>Avg. rating</span></div>
                        <div class="metric"><h4>24h</h4><span>Response time</span></div>
                        <div class="metric"><h4>SEO</h4><span>Baseline ready</span></div>
                    </div>
                </div>
            </div>

            <!-- Trust Strip -->
            <div class="strip">
                <div class="container" style="overflow:hidden;">
                    <div class="strip-track" style="width: max-content;">
                        <span>Secure payments</span><span>Mobile-first</span><span>Fast delivery</span><span>SEO ready</span><span>AI automation</span>
                        <span>Custom portals</span><span>Secure payments</span><span>Mobile-first</span><span>Fast delivery</span><span>SEO ready</span>
                    </div>
                </div>
            </div>

            <!-- Services -->
            <section style="margin-top:-10px;">
                <h2 class="section-title reveal visible">What we build</h2>
                <p class="section-sub reveal visible">Clear, modern experiences that make your business feel premium.</p>
                <div class="grid-3" style="margin-top:20px;">
                    <div class="card reveal visible">
                        <div class="icon-pill"><i class="ri-layout-4-line"></i></div>
                        <h3>Static Websites</h3>
                        <p style="color:var(--muted);">Fast, elegant landing pages and product sites that load instantly.</p>
                    </div>
                    <div class="card reveal visible">
                        <div class="icon-pill"><i class="ri-layout-masonry-line"></i></div>
                        <h3>Interactive Front-End</h3>
                        <p style="color:var(--muted);">Animated, story-driven UI for richer engagement and higher conversion.</p>
                    </div>
                    <div class="card reveal visible">
                        <div class="icon-pill"><i class="ri-robot-2-line"></i></div>
                        <h3>AI-Powered Systems</h3>
                        <p style="color:var(--muted);">Chatbots, workflows, and automation that save time and cost.</p>
                    </div>
                </div>
            </section>

            <!-- Contact Lead Form -->
            <section style="margin-top:60px;">
                <h2 class="section-title reveal visible">Start a Project</h2>
                <p class="section-sub reveal visible">Have a custom project in mind? Send us a direct message.</p>
                
                <div class="card reveal visible" style="max-width: 600px; margin-top: 1rem;">
                    <form onsubmit="handleHomeLeadSubmit(event)">
                        <div class="form-group">
                            <label class="form-label">Name</label>
                            <input type="text" id="lead-name" class="input" placeholder="Your Name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" id="lead-email" class="input" placeholder="hello@example.com" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Message</label>
                            <textarea id="lead-message" class="input" rows="4" placeholder="Tell us about your project..." required></textarea>
                        </div>
                        <button class="btn btn-primary" style="width: 100%;">Send Message</button>
                    </form>
                </div>
            </section>
        </section>

        <!-- === PAGE: REVIEWS === -->
        <section id="reviews" class="page-section">
            <h2 class="section-title reveal visible">Client reviews</h2>
            <p class="section-sub reveal visible">Real feedback from teams who shipped with us.</p>

            <!-- Form -->
            <div class="card reveal visible" style="max-width: 700px; margin-bottom: 2rem;">
                <h3 style="margin-bottom: 1rem;">Write a Review</h3>
                <p style="color:var(--muted); margin-bottom: 1.5rem; font-size: 0.9rem;">Login required to submit.</p>
                <form id="review-form" onsubmit="handleReviewSubmit(event)">
                    <div class="form-group">
                        <label class="form-label">Rating</label>
                        <div class="review-input-wrapper" id="star-input-container">
                            <i class="ri-star-fill star-icon" data-val="1" style="font-size:1.8rem; color:var(--border); cursor:pointer;"></i>
                            <i class="ri-star-fill star-icon" data-val="2" style="font-size:1.8rem; color:var(--border); cursor:pointer;"></i>
                            <i class="ri-star-fill star-icon" data-val="3" style="font-size:1.8rem; color:var(--border); cursor:pointer;"></i>
                            <i class="ri-star-fill star-icon" data-val="4" style="font-size:1.8rem; color:var(--border); cursor:pointer;"></i>
                            <i class="ri-star-fill star-icon" data-val="5" style="font-size:1.8rem; color:var(--border); cursor:pointer;"></i>
                        </div>
                        <input type="hidden" id="rating-value" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Comment</label>
                        <textarea id="review-comment" class="input" rows="4" placeholder="Share your experience..." required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Submit</button>
                </form>
            </div>

            <!-- Slider -->
            <div class="review-slider reveal visible" id="reviewSlider">
                <div class="review-slide active">
                    <div class="stars">★★★★★</div>
                    <p>Fast delivery and the site feels premium. Excellent experience end-to-end.</p>
                    <strong style="display:block; margin-top:1rem;">PNE Arena Enterprise</strong>
                </div>
                <div class="review-slide">
                    <div class="stars">★★★★★</div>
                    <p>Clear communication, great UI, and improvements in conversion.</p>
                    <strong style="display:block; margin-top:1rem;">Local Business Owner</strong>
                </div>
                <div class="review-slide">
                    <div class="stars">★★★★★</div>
                    <p>They understood our vision and built a site we are proud of.</p>
                    <strong style="display:block; margin-top:1rem;">Startup Founder</strong>
                </div>
            </div>
            <div class="dots" id="reviewDots" style="display:flex; gap:8px; margin-top:12px; justify-content:center;"></div>
        </section>

        <!-- === PAGE: PRIVACY === -->
        <section id="privacy" class="page-section">
            <div class="card reveal visible" style="max-width: 800px;">
                <h2 class="section-title">Privacy Policy</h2>
                <p style="color:var(--muted); margin-bottom: 2rem;">Effective Date: 6 February 2026</p>
                <p style="margin-bottom:1.5rem;">DDNetwork respects your privacy and is committed to protecting your personal information...</p>
                <h3 style="margin-top:2rem; margin-bottom:0.5rem;">1. Data We Collect</h3>
                <p>Basic Profile Information, Google Contacts (if applicable), etc.</p>
                <h3 style="margin-top:2rem; margin-bottom:0.5rem;">2. How We Use Data</h3>
                <p>We use your data only to provide, operate, and improve our application.</p>
            </div>
        </section>

        <!-- === PAGE: ABOUT COMPANY === -->
        <section id="about-company" class="page-section">
            <h2 class="section-title reveal visible">About Us</h2>
            <p class="section-sub reveal visible">DDNetwork One is a specialized brand under DD Cloud Network, focused on building clean, high-performance web systems.</p>
            
            <div class="grid-3" style="margin-top:20px;">
                <div class="card reveal visible">
                    <h3>Our Mission</h3>
                    <p style="color:var(--muted);">Build digital systems that feel effortless for users and scalable for teams.</p>
                </div>
                <div class="card reveal visible">
                    <h3>Our Approach</h3>
                    <p style="color:var(--muted);">We prioritize clarity, speed, and measurable outcomes.</p>
                </div>
                <div class="card reveal visible">
                    <h3>Founder</h3>
                    <p style="color:var(--muted);">Danial Danish leads the team, focusing on design clarity and modern systems.</p>
                </div>
            </div>
        </section>

        <!-- === PAGE: FAQ === -->
        <section id="faq" class="page-section">
            <h2 class="section-title reveal visible">FAQ</h2>
            <p class="section-sub reveal visible">Quick answers to common questions.</p>

            <div style="margin-top:16px; max-width: 800px;">
                <div class="faq-item reveal visible">
                    <div class="faq-q" onclick="toggleFaq(this)">How long does delivery take? <i class="ri-arrow-down-s-line"></i></div>
                    <div class="faq-a">Simple websites typically take 3–7 working days. Complex systems take 2–4 weeks.</div>
                </div>
                <div class="faq-item reveal visible">
                    <div class="faq-q" onclick="toggleFaq(this)">Do you provide hosting and domain? <i class="ri-arrow-down-s-line"></i></div>
                    <div class="faq-a">Yes. We include hosting in subscription plans and can set up your custom domain.</div>
                </div>
                <div class="faq-item reveal visible">
                    <div class="faq-q" onclick="toggleFaq(this)">Can I update content later? <i class="ri-arrow-down-s-line"></i></div>
                    <div class="faq-a">Yes. We offer maintenance plans and can also provide CMS integration.</div>
                </div>
            </div>
        </section>

        <!-- === PAGE: TERMS === -->
        <section id="terms" class="page-section">
            <div class="card reveal visible" style="max-width: 800px;">
                <h2 class="section-title">Terms & Conditions</h2>
                <p style="color:var(--muted); margin-bottom: 2rem;">Summary of service scope, payment, delivery, and usage policies.</p>
                <p><strong>Scope:</strong> Work includes only what is listed in the selected package or agreement.</p>
                <p style="margin-top:1rem;"><strong>Payments:</strong> Setup fees are non-refundable. Subscriptions are billed in advance.</p>
                <p style="margin-top:1rem;"><strong>Delivery:</strong> Timelines depend on feedback and content readiness.</p>
                <p style="margin-top:1rem;"><strong>Ownership:</strong> Full ownership transfers after final payment.</p>
            </div>
        </section>

        <!-- === PAGE: PROFILE === -->
        <section id="profile" class="page-section">
            <div class="card reveal visible" style="max-width: 900px;">
                <i class="ri-user-settings-fill" style="font-size: 3rem; color: var(--brand); margin-bottom: 1rem;"></i>
                <h2 style="margin-bottom: 0.5rem;">My Profile</h2>
                <p style="color:var(--muted); margin-bottom: 2rem;">View and update your personal details.</p>
                
                <form onsubmit="handleProfileUpdate(event)">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" id="prof-name" class="input" placeholder="Loading..." required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" id="prof-email" class="input" placeholder="Loading..." readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone</label>
                            <input type="tel" id="prof-phone" class="input" placeholder="Loading..." required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Company</label>
                            <input type="text" id="prof-company" class="input" placeholder="Optional">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Update Profile</button>
                </form>
                
                <!-- Voucher Section -->
                <div id="profile-voucher-section" style="display:none; margin-top:2rem; border-top:1px solid var(--border); padding-top:2rem;">
                    <div class="card" style="display:flex; justify-content:space-between; align-items:center;">
                        <div>
                            <h4 id="profile-voucher-title" style="margin-bottom:0;">You have a Gift Voucher!</h4>
                            <p id="profile-voucher-text" style="color:var(--brand); font-weight:700;">Code: -</p>
                        </div>
                        <button type="button" class="btn btn-danger" onclick="deletePersonalVoucher()">Delete</button>
                    </div>
                </div>

                <!-- History -->
                <div id="profile-history-section" style="display:none; margin-top:2rem; border-top:1px solid var(--border); padding-top:2rem;">
                    <h3 style="font-size: 1.2rem; margin-bottom: 1rem;">Purchase History</h3>
                    <div class="card" style="overflow-x: auto; padding:0;">
                        <table class="history-table" style="width:100%; border-collapse:collapse; text-align:left;">
                            <thead>
                                <tr style="border-bottom:1px solid var(--border);">
                                    <th style="padding:1rem;">Date</th>
                                    <th style="padding:1rem;">Package</th>
                                    <th style="padding:1rem;">Total</th>
                                    <th style="padding:1rem;">Status</th>
                                </tr>
                            </thead>
                            <tbody id="order-history-body"></tbody>
                        </table>
                    </div>
                </div>

                <div style="margin-top: 2rem; border-top: 1px solid var(--border); padding-top: 1.5rem;">
                    <button type="button" class="btn btn-ghost" style="width: 100%;" onclick="handleProfileReset()">
                        <i class="ri-lock-password-fill" style="margin-right:8px;"></i> Reset Password
                    </button>
                </div>
            </div>
        </section>

        <!-- === PAGE: WEBSITE DESCRIPTION === -->
        <section id="profile-website-describe" class="page-section">
            <div class="card reveal visible" style="max-width: 800px;">
                <i class="ri-lightbulb-flash-fill" style="font-size: 3rem; color: var(--brand-3); margin-bottom: 1rem;"></i>
                <h2 style="margin-bottom: 0.5rem;">Describe Your Website</h2>
                <p style="color:var(--muted); margin-bottom: 2rem;">Tell us your vision! We'll review your ideas and get back to you.</p>

                <form id="website-idea-form" onsubmit="handleWebsiteIdeaSubmit(event)">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label class="form-label">Name</label>
                            <input type="text" id="idea-name" class="input" placeholder="e.g. Ali Bin Abu" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone</label>
                            <input type="tel" id="idea-phone" class="input" placeholder="e.g. 0123456789" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="idea-email" class="input" placeholder="hello@example.com" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Company <span style="color:var(--muted);">(Optional)</span></label>
                        <input type="text" id="idea-company" class="input" placeholder="e.g. Acme Corp">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Project Type</label>
                        <select id="idea-type" class="input" required>
                            <option value="" disabled selected>Select...</option>
                            <option value="New Website">New Website</option>
                            <option value="Redesign">Redesign Existing Website</option>
                            <option value="Portal">Internal Portal / System</option>
                            <option value="AI">AI Integration</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Describe Your Idea</label>
                        <textarea id="idea-message" class="input" rows="6" placeholder="Tell us about your business..." required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Submit Idea</button>
                </form>
            </div>
        </section>

        <!-- === PAGE: LOGIN === -->
        <section id="login" class="page-section">
            <div class="card reveal visible" style="max-width: 450px; margin: 0 auto;">
                <i class="ri-user-3-fill" style="font-size: 3rem; color: var(--brand); margin-bottom: 1rem; display:block; text-align:center;"></i>
                <h2 style="text-align:center; margin-bottom:0.5rem;">Welcome Back</h2>
                <p style="text-align:center; color:var(--muted); margin-bottom: 2rem;">Login to manage your orders.</p>
                
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="login-email" class="input" placeholder="hello@example.com" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" id="login-password" class="input" placeholder="Required" required>
                        <div style="text-align: right; margin-top: 5px;">
                            <span style="color:var(--brand); cursor:pointer; font-size:0.8rem;" onclick="navigateTo('/forgot-password')">Forgot Password?</span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
                </form>
                
                <div style="margin: 1.5rem 0; display: flex; align-items: center; gap: 10px;">
                    <div style="height: 1px; background: var(--border); flex: 1;"></div>
                    <span style="color: var(--muted); font-size: 0.8rem; text-transform: uppercase;">Or</span>
                    <div style="height: 1px; background: var(--border); flex: 1;"></div>
                </div>

                <button type="button" class="btn btn-ghost" style="width: 100%; border-color:var(--border);" onclick="handleGoogleAuth()">
                    <i class="ri-google-fill" style="color:#DB4437;"></i> Continue with Google
                </button>
                
                <div style="margin-top: 1.5rem; font-size: 0.9rem; color: var(--muted); text-align:center;">
                    Don't have an account? <span style="color:var(--brand); cursor:pointer; font-weight:700;" onclick="navigateTo('/signup')">Sign Up</span>
                </div>
            </div>
        </section>

        <!-- === PAGE: FORGOT PASSWORD === -->
        <section id="forgot-password" class="page-section">
            <div class="card reveal visible" style="max-width: 450px; margin: 0 auto;">
                <i class="ri-lock-password-fill" style="font-size: 3rem; color: var(--warning); margin-bottom: 1rem; display:block; text-align:center;"></i>
                <h2 style="text-align:center; margin-bottom:0.5rem;">Reset Password</h2>
                <p style="text-align:center; color:var(--muted); margin-bottom: 2rem;">Enter your email to receive a reset link.</p>
                
                <form onsubmit="handleForgotPassword(event)">
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" id="reset-email" class="input" placeholder="hello@example.com" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Send Reset Link</button>
                </form>
                
                <div style="margin-top: 1.5rem; font-size: 0.9rem; color: var(--muted); text-align:center;">
                    Remember your password? <span style="color:var(--brand); cursor:pointer; font-weight:700;" onclick="navigateTo('/login')">Back to Login</span>
                </div>
            </div>
        </section>

        <!-- === PAGE: SIGNUP === -->
        <section id="signup" class="page-section">
            <div class="card reveal visible" style="max-width: 450px; margin: 0 auto;">
                <h2 style="text-align:center; margin-bottom:0.5rem;">Create Account</h2>
                <p style="text-align:center; color:var(--muted); margin-bottom: 2rem;">Join us to track your projects.</p>
                
                <form onsubmit="handleSignup(event)">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" id="signup-name" class="input" placeholder="e.g. Nurul Nabila" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" id="signup-phone" class="input" placeholder="0123456789" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="signup-email" class="input" placeholder="hello@example.com" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" id="signup-password" class="input" placeholder="Create a password" required minlength="6" oninput="checkPasswordStrength()">
                        <div class="password-requirements" style="margin-top: 0.5rem; font-size: 0.75rem; display:grid; grid-template-columns:1fr 1fr; gap:0.5rem;">
                            <span id="req-upper" class="req-item"><i class="ri-close-circle-line"></i> Uppercase</span>
                            <span id="req-lower" class="req-item"><i class="ri-close-circle-line"></i> Lowercase</span>
                            <span id="req-num" class="req-item"><i class="ri-close-circle-line"></i> Number</span>
                            <span id="req-len" class="req-item"><i class="ri-close-circle-line"></i> Min 6 chars</span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Create Account</button>
                </form>

                <div style="margin: 1.5rem 0; display: flex; align-items: center; gap: 10px;">
                    <div style="height: 1px; background: var(--border); flex: 1;"></div>
                    <span style="color: var(--muted); font-size: 0.8rem; text-transform: uppercase;">Or</span>
                    <div style="height: 1px; background: var(--border); flex: 1;"></div>
                </div>

                <button type="button" class="btn btn-ghost" style="width: 100%; border-color:var(--border);" onclick="handleGoogleAuth()">
                    <i class="ri-google-fill" style="color:#DB4437;"></i> Sign up with Google
                </button>
                
                <div style="margin-top: 1.5rem; font-size: 0.9rem; color: var(--muted); text-align:center;">
                    Already have an account? <span style="color:var(--brand); cursor:pointer; font-weight:700;" onclick="navigateTo('/login')">Login</span>
                </div>
            </div>
        </section>

        <!-- === PAGE: HELPDESK === -->
        <section id="helpdesk" class="page-section">
            <div class="card reveal visible" style="max-width: 700px;">
                <i class="ri-customer-service-2-fill" style="font-size: 3rem; color: var(--brand); margin-bottom: 1rem; display:block; text-align:center;"></i>
                <h2 style="text-align:center; margin-bottom:0.5rem;">Helpdesk</h2>
                <p style="text-align:center; color:var(--muted); margin-bottom: 2rem;">Submit a support ticket. We'll get back to you ASAP.</p>
                
                <form onsubmit="handleTicketSubmit(event)">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" id="ticket-name" class="input" placeholder="e.g. Nurul Nabila" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" id="ticket-email" class="input" placeholder="hello@example.com" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Issue Type</label>
                        <select id="ticket-type" class="input" required>
                            <option value="" disabled selected>Select an issue</option>
                            <option value="Cannot login">Cannot login</option>
                            <option value="Payment issue">Payment issue</option>
                            <option value="Website not loading">Website not loading</option>
                            <option value="Other issue">Other issue</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Message</label>
                        <textarea id="ticket-message" class="input" placeholder="Describe your issue..." required rows="5"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Submit Ticket</button>
                    
                    <div id="case-id-display" style="display:none; margin-top:1.5rem; padding:1.5rem; border:1px dashed var(--brand); background:rgba(118,247,210,0.1); border-radius:12px; text-align:center;">
                         <div style="font-size:0.85rem; color:var(--muted); margin-bottom:0.5rem;">TICKET SUBMITTED</div>
                         <div id="display-case-id" style="font-size:1.5rem; font-weight:800; color:var(--text); margin-bottom:1rem; font-family:monospace;">#Ticket-0000</div>
                         <button class="btn btn-ghost" style="padding:0.5rem 1rem;" onclick="copyTicketId()">Copy ID</button>
                    </div>
                </form>

                <div style="margin-top:2rem; border-top:1px solid var(--border); padding-top:2rem;">
                    <h3 style="font-size: 1.2rem; margin-bottom: 1rem;">Check Ticket Status</h3>
                    <div style="display:flex; gap:1rem;">
                        <input type="text" id="history-search-id" class="input" placeholder="Enter Case ID">
                        <button type="button" class="btn btn-ghost" onclick="fetchTicketHistory()">Search</button>
                    </div>
                    <div id="ticket-list" style="margin-top:1rem;"></div>
                </div>
            </div>
        </section>

        <!-- === PAGE: SERVICES / PRICING === -->
        <section id="services" class="page-section">
            <div style="padding-bottom: 4rem;">
                <h2 class="section-title reveal visible">Pricing Packages</h2>
                <p class="section-sub reveal visible">Transparent pricing. Choose plan that fits your needs.</p>
                
                <!-- PRICING TOGGLE -->
                <div class="pricing-toggle reveal visible">
                    <button class="toggle-btn active" id="label-monthly" onclick="setBilling('monthly')">Monthly</button>
                    <button class="toggle-btn" id="label-onetime" onclick="setBilling('onetime')">One-Time</button>
                </div>

                <div class="grid-3">
                    <!-- Package 1 -->
                    <div class="price-card reveal visible">
                        <h3>Basic HTML Website</h3>
                        <div class="price" id="price-html">RM 249 <span>/one-time</span></div>
                        <div class="list">
                            <div><i class="ri-check-line"></i> 1 Static Landing Page</div>
                            <div><i class="ri-check-line"></i> Mobile Responsive</div>
                            <div><i class="ri-check-line"></i> Basic SEO Tags</div>
                            <div><i class="ri-check-line"></i> Contact Form</div>
                        </div>
                        <button class="btn btn-ghost" style="width:100%" onclick="attemptSelectPackage('Basic HTML Website', 'html')">Select</button>
                    </div>

                    <!-- Package 2 -->
                    <div class="price-card featured reveal visible">
                        <h3>Front-End Website</h3>
                        <div class="price" id="price-frontend">RM 99 <span>/month</span></div>
                        <div class="list">
                            <div><i class="ri-check-line"></i> Up to 5 Pages</div>
                            <div><i class="ri-check-line"></i> Interactive UI</div>
                            <div><i class="ri-check-line"></i> WhatsApp Integration</div>
                            <div><i class="ri-check-line"></i> Hosting included</div>
                        </div>
                        <button class="btn btn-primary" style="width:100%" onclick="attemptSelectPackage('Front-End Website', 'frontend')">Select</button>
                    </div>

                    <!-- Package 3 -->
                    <div class="price-card reveal visible">
                        <h3>AI Powered</h3>
                        <div class="price" id="price-ai">RM 149 <span>/month</span></div>
                        <div class="list">
                            <div><i class="ri-check-line"></i> All Front-End Features</div>
                            <div><i class="ri-check-line"></i> AI Chatbot</div>
                            <div><i class="ri-check-line"></i> Lead Auto-Response</div>
                            <div><i class="ri-check-line"></i> Smart Analytics</div>
                        </div>
                        <button class="btn btn-ghost" style="width:100%" onclick="openQuoteForm('AI Powered Website')">Request Quote</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- === PAGE: CHECKOUT === -->
        <section id="buynow" class="page-section">
            <h2 class="section-title reveal visible" style="text-align:center;">Finalize Your Order</h2>
            <p class="section-sub reveal visible" style="text-align:center;">Secure your package and finalize details.</p>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                
                <!-- LEFT COLUMN -->
                <div class="card reveal visible">
                    <h3 style="margin-bottom: 1rem; color: var(--text);">Order Summary</h3>
                    <div style="background: var(--panel); padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem;">
                        <h4 id="summary-pkg-name" style="color: var(--text); margin-bottom: 0.5rem;">Select a Package</h4>
                        <p id="summary-pkg-desc" style="font-size: 0.9rem; color: var(--muted); margin-bottom: 1rem;">Please select a package.</p>
                        <div id="dynamic-price-area"></div>
                    </div>

                    <div style="display: flex; flex-direction: column; gap: 0.8rem; margin-bottom: 2rem;">
                        <div style="display:flex; justify-content:space-between; font-size:0.95rem; color:var(--muted);">
                            <span>Setup Fee:</span> <span id="summary-setup" style="color:var(--warning);">RM 0</span>
                        </div>
                        <div style="display:flex; justify-content:space-between; font-size:0.95rem; color:var(--muted);">
                            <span>Recurring:</span> <span id="summary-recurring">RM 0</span>
                        </div>
                        <div style="display:flex; justify-content:space-between; font-size:0.95rem; color:var(--muted);">
                            <span>Domain:</span> <span id="summary-domain">Free (1st Year)</span>
                        </div>
                        <div style="display:flex; justify-content:space-between; font-size:0.95rem; color:var(--muted);">
                            <span>Maintenance:</span> <span id="summary-maintenance">None</span>
                        </div>
                    </div>

                    <div style="display:flex; justify-content:space-between; font-size: 1.5rem; font-weight: 800; color: var(--text); border-top: 1px solid var(--border); padding-top: 20px;">
                        <span>Total Due</span> <span id="summary-final-total" style="color: var(--brand);">RM 0</span>
                    </div>
                    
                    <div style="margin-top: 10px; text-align: right;">
                        <div id="deposit-note" style="font-size: 0.8rem; color: var(--warning); margin-bottom: 5px; font-weight: 600; display:none;">
                            Deposit Required (50%): RM 0
                        </div>
                        <div style="display: flex; gap: 10px; justify-content: flex-end;">
                            <button type="button" class="btn btn-primary" style="padding: 0.5rem 1rem;" id="btn-pay-full" onclick="setPaymentMode('full')">Pay Full</button>
                            <button type="button" class="btn btn-ghost" style="padding: 0.5rem 1rem;" id="btn-pay-deposit" onclick="setPaymentMode('deposit')">Pay Deposit</button>
                        </div>
                    </div>
                </div>

                <!-- RIGHT COLUMN -->
                <div class="card reveal visible">
                    <h3 style="margin-bottom: 2rem; color: var(--text);">Configuration</h3>
                    
                    <form id="checkoutForm" onsubmit="return false;">
                        <div class="form-group">
                            <label class="form-label">Personal Details</label>
                            <div style="display:grid; grid-template-columns:1fr 1fr; gap:1rem;">
                                <input type="text" id="co-name" class="input" placeholder="Full Name" required>
                                <input type="tel" id="co-phone" class="input" placeholder="Phone" required>
                                <input type="email" id="co-email" class="input" placeholder="Email" required style="grid-column: span 2;">
                                <input type="text" id="co-company" class="input" placeholder="Company (Optional)" style="grid-column: span 2;">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Domain Choice</label>
                            <div class="radio-group">
                                <div class="radio-option selected" onclick="updateDomain('sub', this)">
                                    <input type="radio" name="domain_type" value="sub" checked> 
                                    <span>DDNetwork Subdomain (Free 1st Year)</span>
                                </div>
                                <div class="radio-option" onclick="updateDomain('custom', this)">
                                    <input type="radio" name="domain_type" value="custom"> 
                                    <span>I have my own domain</span>
                                </div>
                            </div>
                            
                            <div id="input-subdomain" style="margin-top: 10px;">
                                <input type="text" id="subdomain-text" class="input" placeholder="yourname" oninput="updateSummaryText()">
                                <span style="font-size: 0.8rem; color: var(--muted); margin-top: 5px; display: block;">URL: <span id="url-preview" style="color: var(--brand); font-weight: 700;">.ddnet.my</span></span>
                            </div>
                            
                            <div id="input-custom" style="display: none; margin-top: 10px;">
                                <input type="text" id="custom-domain-text" class="input" placeholder="www.example.com" oninput="updateSummaryText()">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Maintenance Plan</label>
                            <div class="radio-group">
                                <div class="radio-option selected" onclick="updateMaintenance('none', this)">
                                    <input type="radio" name="maint" value="none" checked> None
                                </div>
                                <div class="radio-option" onclick="updateMaintenance('basic', this)">
                                    <input type="radio" name="maint" value="basic"> Basic (+RM 50/mo)
                                </div>
                                <div class="radio-option" onclick="updateMaintenance('business', this)">
                                    <input type="radio" name="maint" value="business"> Business (+RM 100/mo)
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Promo Code</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="promo-input" class="input" placeholder="PROMO10" style="text-transform: uppercase;">
                                <button type="button" class="btn btn-ghost" onclick="applyPromo()" style="min-width: 70px;">Apply</button>
                            </div>
                        </div>

                        <div style="background: rgba(118,247,210,0.1); padding: 1rem; border-radius: 12px; margin: 1.5rem 0;">
                            <label style="display: flex; align-items: flex-start; gap: 12px; cursor: pointer;">
                                <input type="checkbox" id="terms-check" style="margin-top: 4px; width: 18px; height: 18px; accent-color: var(--brand);">
                                <span style="color: var(--muted); font-size: 0.9rem;">I agree to <span style="color:var(--brand); cursor:pointer;" onclick="openTermsModal()">Terms & Conditions</span>.</span>
                            </label>
                        </div>

                        <button type="button" id="btn-pay-now" class="btn btn-primary" style="width: 100%; margin-bottom: 1rem;" onclick="initiateRazorpayPayment()"><i class="ri-credit-card-2-fill" style="margin-right:8px;"></i> Pay Now</button>

                        <div id="manual-confirm-section" style="display:none; background:rgba(118,247,210,0.15); border:1px solid var(--brand); border-radius:12px; padding:2rem; text-align:center;">
                            <i class="ri-checkbox-circle-fill" style="font-size:3rem; color:var(--brand);"></i>
                            <h3 style="margin: 1rem 0;">Payment Window Opened</h3>
                            <p style="color:var(--muted); margin-bottom: 1.5rem;">Please complete payment. Click below once done.</p>
                            <button type="button" class="btn btn-primary" style="width: 100%;" onclick="handleManualConfirmation()">I have made payment</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- === PAGE: THANK YOU === -->
        <section id="thank-you" class="page-section">
            <div class="card reveal visible" style="max-width: 600px; margin: 0 auto; text-align: center;">
                <i class="ri-check-line" style="font-size: 4rem; color: var(--brand); margin-bottom: 1rem;"></i>
                <h2 style="margin-bottom: 1rem;">Order Placed!</h2>
                <p style="color: var(--muted); margin-bottom: 2rem;">Thank you for choosing DDNetwork One. We will contact you shortly.</p>
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button class="btn btn-primary" onclick="navigateTo('/')">Return Home</button>
                    <button class="btn btn-ghost" onclick="navigateTo('/profile')">My Profile</button>
                </div>
            </div>
        </section>

        <!-- === PAGE: CLIENTS === -->
        <section id="clients" class="page-section">
            <h2 class="section-title reveal visible">Portfolio</h2>
            <p class="section-sub reveal visible">Trusted by forward-thinking businesses.</p>
            <div id="portfolio-grid" class="grid-3" style="margin-top:20px;">
                <!-- Loaded via JS -->
            </div>
        </section>

        <!-- === PAGE: FOUNDER === -->
        <section id="founder" class="page-section">
            <div class="card reveal visible" style="display: flex; flex-direction: column; align-items: center; text-align: center; max-width: 600px; margin: 0 auto;">
                <img src="https://raw.githubusercontent.com/ddnetwork-ent/DDN-One/refs/heads/main/DD.JPG" alt="Danial Danish" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid var(--border); margin-bottom: 1.5rem;">
                <h2 style="margin-bottom: 0.5rem;">Danial Danish</h2>
                <p style="color: var(--brand); font-weight: 700; letter-spacing: 1px; text-transform: uppercase; font-size: 0.8rem; margin-bottom: 1.5rem;">Founder & Lead Developer</p>
                <p style="color: var(--muted); max-width: 600px; line-height: 1.7; margin-bottom: 1.5rem;">
                    "My journey began with a curiosity for code. What started as late-night experiments grew into DD Cloud Network, a company built on simplicity, speed, and thoughtful digital design."
                </p>
            </div>
        </section>

        <!-- === PAGE: UPDATES === -->
        <section id="updates" class="page-section">
            <div class="card reveal visible" style="max-width: 800px;">
                <i class="ri-edit-circle-fill" style="font-size: 3rem; color: var(--brand); margin-bottom: 1rem; display:block; text-align:center;"></i>
                <h2 style="text-align:center; margin-bottom:0.5rem;">Customer Requests</h2>
                <p style="text-align:center; color:var(--muted); margin-bottom: 2rem;">Update content, upgrade, renew, or remove features.</p>

                <form onsubmit="handleRequestSubmit(event)">
                    <div class="form-group">
                        <label class="form-label">Details</label>
                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:1rem;">
                            <input type="text" id="req-name" class="input" placeholder="Full Name" required>
                            <input type="tel" id="req-phone" class="input" placeholder="Phone" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Request Type</label>
                        <div class="radio-group">
                            <div class="radio-option selected" onclick="handleUpdateTypeChange('content', this)">
                                <input type="radio" name="req_type" value="content" checked>
                                <span>Update Content</span>
                            </div>
                            <div class="radio-option" onclick="handleUpdateTypeChange('upgrade', this)">
                                <input type="radio" name="req_type" value="upgrade">
                                <span>Upgrade Plan</span>
                            </div>
                            <div class="radio-option" onclick="handleUpdateTypeChange('renew', this)">
                                <input type="radio" name="req_type" value="renew">
                                <span>Renew Plan</span>
                            </div>
                        </div>
                    </div>
                    <div id="field-content" class="form-group">
                        <label class="form-label">Describe Changes</label>
                        <textarea id="req-desc-content" class="input" rows="3"></textarea>
                    </div>
                    <div id="field-upgrade" class="form-group hidden">
                        <label class="form-label">Notes</label>
                        <textarea id="req-desc-upgrade" class="input" rows="3"></textarea>
                    </div>
                    <div id="field-renew" class="form-group hidden">
                        <label class="form-label">Plan to Renew</label>
                        <select id="req-renew-plan" class="input">
                            <option>Basic HTML</option>
                            <option>Front-End</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary" style="width: 100%;">Submit Request</button>
                </form>
            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer>
        <div class="container" style="display:grid; gap:16px;">
            <div style="display:flex; justify-content:space-between; gap:16px; flex-wrap:wrap; align-items:center;">
                <div>
                    <div class="logo" style="margin-bottom:10px;">
                        <img src="https://raw.githubusercontent.com/ddnetwork-one/ddnetwork-store/refs/heads/main/crop_ddnlogo.png" alt="Logo">
                        DDNetwork One
                    </div>
                    <p style="color:var(--muted); font-size:0.9rem;">Designed in Malaysia. Built for the world.</p>
                </div>
                <div style="display:flex; gap:14px; align-items:center;" class="footer-links">
                    <a href="/privacy" onclick="routeLink(event, '/privacy')">Privacy</a>
                    <a href="/terms" onclick="routeLink(event, '/terms')">Terms</a>
                    <a href="https://www.instagram.com/ddnet.my/" target="_blank"><i class="ri-instagram-line"></i></a>
                </div>
            </div>
            <div style="border-top:1px solid var(--border); padding-top:12px; font-size:0.9rem; text-align:center; color:var(--muted);">
                © 2025–2026 DD Cloud Network · DDNetwork One
            </div>
        </div>
    </footer>

    <!-- TERMS MODAL -->
    <div id="termsModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:99999; justify-content:center; align-items:center; padding:2rem;">
        <div class="card" style="max-width:800px; max-height:80vh; overflow-y:auto; position:relative;">
            <span style="position:absolute; top:1rem; right:1rem; font-size:1.5rem; cursor:pointer;" onclick="closeTermsModal()">&times;</span>
            <h2>Terms & Conditions</h2>
            <p style="margin-top:1rem;">1. Scope of Services...</p>
            <p>2. Payments...</p>
            <p>3. Delivery...</p>
        </div>
    </div>

    <!-- CHAT WIDGET SCRIPT -->
    <script src="https://app.livechatai.com/embed.js" data-id="cmlas1njr0001jj04hi5ygd18" async defer></script>

    <!-- LOGIC -->
    <script>
        // --- CORE SETUP ---
        const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        const PAGE_TITLES = {
            '/': 'DDNetwork One — Premium Web Systems',
            '/pricing': 'Pricing Packages',
            '/reviews': 'Client Reviews',
            '/clients': 'Portfolio',
            '/founder': 'Danial Danish – Founder',
            '/login': 'Login',
            '/signup': 'Sign Up',
            '/profile': 'User Profile',
            '/helpdesk': 'Support Helpdesk',
            '/terms': 'Terms & Conditions',
            '/faq': 'FAQ',
            '/privacy': 'Privacy Policy'
        };

        // --- THEME TOGGLE ---
        const themeToggle = document.getElementById('themeToggle');
        const storedTheme = localStorage.getItem("ddn-theme");
        if (storedTheme === "light") {
            document.body.classList.add("theme-light");
            if(themeToggle) themeToggle.innerHTML = '<i class="ri-moon-line"></i>';
        }
        themeToggle?.addEventListener("click", () => {
            const isLight = document.body.classList.toggle("theme-light");
            themeToggle.innerHTML = isLight ? '<i class="ri-moon-line"></i>' : '<i class="ri-sun-line"></i>';
            localStorage.setItem("ddn-theme", isLight ? "light" : "dark");
        });

        // --- SCROLL EFFECTS ---
        const header = document.getElementById("mainHeader");
        const progress = document.getElementById("progress");
        function updateProgress() {
            const h = document.documentElement.scrollHeight - window.innerHeight;
            const ratio = h > 0 ? window.scrollY / h : 0;
            progress.style.transform = `scaleX(${ratio})`;
            if (window.scrollY > 40) header.classList.add("scrolled");
            else header.classList.remove("scrolled");
        }
        window.addEventListener('scroll', updateProgress, { passive: true });

        // --- ROUTER ---
        const routes = {
            '/': 'home', 
            '/pricing': 'services', 
            '/reviews': 'reviews', 
            '/order': 'buynow', 
            '/clients': 'clients',
            '/founder': 'founder', 
            '/login': 'login', 
            '/signup': 'signup', 
            '/profile': 'profile',
            '/helpdesk': 'helpdesk', 
            '/forgot-password': 'forgot-password',
            '/thank-you': 'thank-you', 
            '/updates': 'updates',
            '/profile-website-describe': 'profile-website-describe',
            '/about-company': 'about-company',
            '/terms': 'terms',
            '/faq': 'faq',
            '/privacy': 'privacy'
        };

        function routeLink(e, path) { e.preventDefault(); navigateTo(path); }
        
        function navigateTo(path) {
            const sectionId = routes[path] || 'home';
            window.history.pushState({ path: path }, "", path);
            document.title = PAGE_TITLES[path] || 'DDNetwork One';
            performTransition(sectionId);
        }

        window.addEventListener('popstate', (e) => {
            const path = e.state?.path || window.location.pathname;
            performTransition(routes[path] || 'home');
            document.title = PAGE_TITLES[path] || 'DDNetwork One';
        });

        function performTransition(targetId) {
            const current = document.querySelector('.page-section.active');
            const target = document.getElementById(targetId);
            if (current === target) return;

            if(current) current.classList.remove('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            setTimeout(() => {
                if(target) {
                    target.style.display = 'block';
                    target.classList.add('active');
                    setupReveal(); // Trigger animations
                    // Hooks
                    if(targetId === 'profile') loadProfilePageData();
                    if(targetId === 'reviews') startReviews();
                    if(targetId === 'buynow' && auth && auth.currentUser) fetchAndSyncUserData(auth.currentUser.uid);
                    if(targetId === 'services') updatePricingUI();
                    if(targetId === 'clients') loadPortfolio();
                }
            }, 50);
        }

        // --- REVEAL ANIMATIONS ---
        let revealObserver;
        function setupReveal() {
            if (revealObserver) revealObserver.disconnect();
            if (prefersReduced) {
                document.querySelectorAll('.reveal').forEach(el => el.classList.add('visible'));
                return;
            }
            revealObserver = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('visible');
                });
            }, { threshold: 0.15 });
            document.querySelectorAll('.page-section.active .reveal').forEach(el => revealObserver.observe(el));
        }

        // --- TOAST ---
        const toastWrap = document.getElementById('toastWrap');
        function showToast(message, type = 'info') {
            const t = document.createElement('div');
            t.className = 'toast';
            t.innerHTML = `<div style="display:flex; align-items:center; gap:10px;"><i class="ri-information-fill" style="color:${type==='error'?'var(--danger)':type==='success'?'var(--success)':'var(--warning)'}"></i> ${message}</div>`;
            toastWrap.appendChild(t);
            setTimeout(() => t.remove(), 3000);
        }

        // --- MOBILE MENU ---
        function toggleDrawer() {
            const drawer = document.getElementById('mobileDrawer');
            const overlay = document.getElementById('mobileDrawerOverlay');
            drawer.classList.toggle('open');
            overlay.classList.toggle('active');
        }
        function toggleMobileSub(el) {
            el.nextElementSibling.classList.toggle('open');
            el.querySelector('i').classList.toggle('ri-arrow-up-s-line');
        }

        // --- FIREBASE SETUP ---
        const firebaseConfig = {
            apiKey: "AIzaSyAwf31b-wpYQwPbd-3DxnqGVRw8g3xq938",
            authDomain: "ddnetwork-database.firebaseapp.com",
            projectId: "ddnetwork-database",
            storageBucket: "ddnetwork-database.firebasestorage.app",
            messagingSenderId: "699127560990",
            appId: "1:699127560990:web:vg8k3pcvhkomoeb99tr333960v6ohj5m."
        };
        let db, auth;
        const ADMIN_PHONE_NO = "60122600969";
        try {
            if(firebaseConfig.apiKey !== "YOUR_API_KEY_HERE") {
                firebase.initializeApp(firebaseConfig);
                db = firebase.firestore();
                auth = firebase.auth();
            }
        } catch(e) { console.error("Firebase init error:", e); }

        // --- AUTH STATE ---
        let currentUserRole = 'user';
        if(auth) {
            auth.onAuthStateChanged((user) => {
                if (user) {
                    db.collection("users").doc(user.uid).get().then((doc) => {
                        if (doc.exists) {
                            const data = doc.data();
                            currentUserRole = data.role || 'user';
                            updateHeaderForUser(user, currentUserRole);
                            if(data.personalVoucher) currentUserPersonalVoucher = data.personalVoucher;
                            fetchAndSyncUserData(user.uid);
                        }
                    });
                } else {
                    updateHeaderForGuest();
                    clearUserData();
                }
            });
        }

        function updateHeaderForUser(user, role) {
            const deskAuth = document.getElementById('desktopAuthLinks');
            let userControls = `<a href="/profile" onclick="routeLink(event, '/profile')" class="btn btn-ghost">Profile</a>`;
            if (role === 'admin') userControls = `<a href="admin.html" target="_blank" class="btn btn-ghost" style="color:var(--warning)">Admin</a> ${userControls}`;
            deskAuth.innerHTML = userControls;
            
            const mobAuth = document.getElementById('mobileAuthLinksContainer');
            mobAuth.innerHTML = `<a href="/profile" onclick="routeLink(event, '/profile'); toggleDrawer()" class="mobile-nav-link">Profile</a>
            <a href="#" onclick="handleLogout(); toggleDrawer()" class="mobile-nav-link" style="color:var(--danger)">Logout</a>`;
        }

        function updateHeaderForGuest() {
            const deskAuth = document.getElementById('desktopAuthLinks');
            deskAuth.innerHTML = `<a href="/login" onclick="routeLink(event, '/login')" class="btn btn-ghost">Login</a>`;
            const mobAuth = document.getElementById('mobileAuthLinksContainer');
            mobAuth.innerHTML = `<a href="/login" onclick="routeLink(event, '/login'); toggleDrawer()" class="mobile-nav-link">Login</a>`;
        }

        function handleLogout() { if(auth) auth.signOut().then(() => { showToast("Logged out", "success"); navigateTo('/'); }); }
        
        function fetchAndSyncUserData(uid) {
            if(!db) return;
            db.collection("users").doc(uid).get().then((doc) => {
                if (doc.exists) {
                    const data = doc.data();
                    if(data.name) document.getElementById('co-name').value = data.name;
                    if(data.phone) document.getElementById('co-phone').value = data.phone;
                    if(data.email) document.getElementById('co-email').value = data.email;
                }
            });
        }

        function loadProfilePageData() {
            if(!auth || !auth.currentUser) return;
            db.collection("users").doc(auth.currentUser.uid).get().then((doc) => {
                if (doc.exists) {
                    const data = doc.data();
                    if(data.name) document.getElementById('prof-name').value = data.name;
                    if(data.phone) document.getElementById('prof-phone').value = data.phone;
                    if(data.email) document.getElementById('prof-email').value = data.email;
                    if(data.company) document.getElementById('prof-company').value = data.company;
                    loadOrderHistory(auth.currentUser.uid);
                }
            });
        }

        function loadOrderHistory(uid) {
            // Simplified for brevity
            const container = document.getElementById('profile-history-section');
            const tbody = document.getElementById('order-history-body');
            container.style.display = 'block';
            tbody.innerHTML = '<tr><td colspan="4" style="text-align:center;">Loading...</td></tr>';
            db.collection("orders").where("userId", "==", uid).orderBy("timestamp", "desc").limit(10)
                .onSnapshot((snapshot) => {
                    tbody.innerHTML = '';
                    if (snapshot.empty) {
                        tbody.innerHTML = '<tr><td colspan="4">No orders found.</td></tr>';
                    } else {
                        snapshot.forEach((doc) => {
                            const data = doc.data();
                            const date = data.timestamp ? new Date(data.timestamp.seconds * 1000).toLocaleDateString() : '-';
                            const row = `<tr style="border-bottom:1px solid var(--border);"><td style="padding:1rem;">${date}</td><td>${data.package}</td><td>${data.total}</td><td>${data.status}</td></tr>`;
                            tbody.innerHTML += row;
                        });
                    }
                });
        }

        // --- AUTH HANDLERS ---
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            auth.signInWithEmailAndPassword(email, password).then(() => { showToast("Success!", "success"); navigateTo('/'); })
            .catch((error) => showToast(error.message, "error"));
        }
        
        function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signup-name').value;
            const phone = document.getElementById('signup-phone').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            auth.createUserWithEmailAndPassword(email, password).then((cred) => {
                return db.collection("users").doc(cred.user.uid).set({ name, phone, email, role: 'user', createdAt: firebase.firestore.FieldValue.serverTimestamp() });
            }).then(() => { showToast("Created!", "success"); navigateTo('/'); })
            .catch((error) => showToast(error.message, "error"));
        }
        
        function handleGoogleAuth() {
            const provider = new firebase.auth.GoogleAuthProvider();
            auth.signInWithPopup(provider).then((result) => {
                const user = result.user;
                db.collection("users").doc(user.uid).get().then((doc) => {
                    if (!doc.exists) {
                        return db.collection("users").doc(user.uid).set({
                            name: user.displayName, email: user.email, phone: '', role: 'user'
                        });
                    }
                }).then(() => { showToast("Success", "success"); navigateTo('/'); });
            }).catch((error) => showToast(error.message, "error"));
        }
        
        function handleProfileUpdate(e) {
            e.preventDefault();
            const name = document.getElementById('prof-name').value;
            const phone = document.getElementById('prof-phone').value;
            const company = document.getElementById('prof-company').value;
            db.collection("users").doc(auth.currentUser.uid).update({ name, phone, company })
            .then(() => showToast("Updated", "success")).catch(err => showToast(err.message, "error"));
        }

        function handleProfileReset() {
            if(auth && auth.currentUser) {
                auth.sendPasswordResetEmail(auth.currentUser.email).then(() => showToast("Email sent", "success")).catch(err => showToast(err.message, "error"));
            }
        }
        
        function clearUserData() {
            ['prof-name', 'prof-phone', 'prof-email', 'prof-company', 'co-name', 'co-phone'].forEach(id => {
                const el = document.getElementById(id); if(el) el.value = '';
            });
        }

        // --- PRICING & CHECKOUT LOGIC ---
        let PRICING_DATA = {
            html: { oneTime: 249, monthly: 39, setupFee: 100 },
            frontend: { oneTime: 1399, monthly: 99, setupFee: 200 },
            bundle: { oneTime: 3499, monthly: 249, setupFee: 700 },
            ai: { oneTime: 2499, monthly: 149, setupFee: 400 }
        };
        let billingCycle = 'monthly';
        let state = { packageType: null, packagePrice: 0, setupFee: 0, domainPrice: 0, maintenancePrice: 0, discountRate: 0, discountCode: '', domainType: 'sub', domainName: '', domainNameValid: false, paymentMode: 'full', isOneTime: false };

        function setBilling(cycle) {
            billingCycle = cycle;
            document.getElementById('label-monthly').classList.toggle('active', cycle === 'monthly');
            document.getElementById('label-onetime').classList.toggle('active', cycle === 'onetime');
            updatePricingUI();
        }

        function updatePricingUI() {
            const isOne = billingCycle === 'onetime';
            const pHtml = document.getElementById('price-html');
            if(pHtml) pHtml.innerHTML = `RM ${isOne ? PRICING_DATA.html.oneTime : PRICING_DATA.html.monthly} <span>/${isOne ? 'one-time' : 'month'}</span>`;
            
            const pFe = document.getElementById('price-frontend');
            if(pFe) pFe.innerHTML = `RM ${isOne ? PRICING_DATA.frontend.oneTime : PRICING_DATA.frontend.monthly} <span>/${isOne ? 'one-time' : 'month'}</span>`;
            
            const pAi = document.getElementById('price-ai');
            if(pAi) pAi.innerHTML = `RM ${isOne ? PRICING_DATA.ai.oneTime : PRICING_DATA.ai.monthly} <span>/${isOne ? 'one-time' : 'month'}</span>`;
        }

        function attemptSelectPackage(name, type) {
            if (type === 'ai' || type === 'portal') { openQuoteForm(name); return; }
            if (!auth) return showToast("Auth initializing", "error");
            if (auth.currentUser) { selectPackage(name, type); } 
            else { showToast("Please login", "error"); setTimeout(() => navigateTo('/login'), 1000); }
        }

        function selectPackage(name, type) {
            state.packageType = type;
            state.billingCycle = billingCycle;
            state.isOneTime = (billingCycle === 'onetime');
            state.paymentMode = 'full';
            
            let base = 0, setup = 0;
            if(PRICING_DATA[type]) {
                base = state.isOneTime ? PRICING_DATA[type].oneTime : PRICING_DATA[type].monthly;
                setup = state.isOneTime ? 0 : PRICING_DATA[type].setupFee;
            }
            state.packagePrice = base;
            state.setupFee = setup;
            
            document.getElementById('summary-pkg-name').innerText = name;
            document.getElementById('summary-pkg-desc').innerText = state.isOneTime ? "One-time purchase." : "Subscription plan.";
            
            updateDomain('sub', document.querySelector('input[value="sub"]').parentElement);
            updateMaintenance('none', document.querySelector('input[value="none"]').parentElement);
            updateTotal();
            
            navigateTo('/order'); // Use internal route for checkout
        }
        
        function updateDomain(type, el) {
            state.domainType = type;
            document.querySelectorAll('.radio-option').forEach(o => o.classList.remove('selected'));
            if(el) el.classList.add('selected');
            document.getElementById('input-subdomain').style.display = type === 'sub' ? 'block' : 'none';
            document.getElementById('input-custom').style.display = type === 'sub' ? 'none' : 'block';
            state.domainPrice = 0;
            updateSummaryText();
        }

        function updateSummaryText() {
            if(state.domainType === 'sub') {
                const val = document.getElementById('subdomain-text').value;
                state.domainName = val ? `${val}.ddnet.my` : '';
                document.getElementById('url-preview').innerText = state.domainName || '.ddnet.my';
                document.getElementById('summary-domain').innerText = "Free";
                state.domainNameValid = val.length > 0;
            } else {
                state.domainName = document.getElementById('custom-domain-text').value;
                document.getElementById('summary-domain').innerText = "User Provided";
                state.domainNameValid = state.domainName.length > 0;
            }
        }
        
        function updateMaintenance(plan, el) {
            document.querySelectorAll('[name="maint"]').forEach(o => o.parentElement.classList.remove('selected'));
            if(el) el.classList.add('selected');
            if(plan === 'none') state.maintenancePrice = 0;
            if(plan === 'basic') state.maintenancePrice = 50;
            if(plan === 'business') state.maintenancePrice = 100;
            document.getElementById('summary-maintenance').innerText = plan.charAt(0).toUpperCase() + plan.slice(1);
            updateTotal();
        }

        function setPaymentMode(mode) {
            state.paymentMode = mode;
            const fullBtn = document.getElementById('btn-pay-full');
            const depBtn = document.getElementById('btn-pay-deposit');
            if(mode === 'full') {
                fullBtn.className = 'btn btn-primary';
                depBtn.className = 'btn btn-ghost';
            } else {
                fullBtn.className = 'btn btn-ghost';
                depBtn.className = 'btn btn-primary';
            }
            updateTotal();
        }

        function updateTotal() {
            const total = state.packagePrice + state.setupFee + state.maintenancePrice;
            const pay = state.paymentMode === 'deposit' ? Math.round(total * 0.5) : total;
            document.getElementById('summary-final-total').innerText = `RM ${pay}`;
            document.getElementById('summary-setup').innerText = `RM ${state.setupFee}`;
            document.getElementById('summary-recurring').innerText = `RM ${state.packagePrice}`;
            document.getElementById('deposit-note').style.display = state.paymentMode === 'deposit' ? 'block' : 'none';
            document.getElementById('deposit-note').innerText = `Deposit (50%): RM ${pay}`;
        }

        // --- RAZORPAY & SUBMISSION ---
        const RAZORPAY_KEY_ID = "rzp_live_SEL3cH71UlI5YI";
        
        function initiateRazorpayPayment() {
            if(!document.getElementById('terms-check').checked) return showToast("Please accept Terms", "error");
            if(!state.domainNameValid) return showToast("Enter valid domain", "error");
            
            const amtNumeric = parseFloat(document.getElementById('summary-final-total').innerText.replace('RM ', ''));
            const amtSubunits = Math.round(amtNumeric * 100);
            
            const pendingOrder = {
                userId: auth.currentUser?.uid, name: document.getElementById('co-name').value,
                phone: document.getElementById('co-phone').value, email: document.getElementById('co-email').value,
                package: document.getElementById('summary-pkg-name').innerText, domain: state.domainName,
                total: `RM ${amtNumeric}`, timestamp: firebase.firestore.FieldValue.serverTimestamp()
            };
            localStorage.setItem('pendingOrder', JSON.stringify(pendingOrder));

            const options = {
                "key": RAZORPAY_KEY_ID,
                "amount": amtSubunits,
                "currency": "MYR",
                "name": "DDNetwork One",
                "description": pendingOrder.package,
                "handler": function(response){
                    showToast("Payment Successful! Confirming...", "success");
                    setTimeout(handleManualConfirmation, 1000);
                },
                "prefill": { name: pendingOrder.name, email: pendingOrder.email, contact: pendingOrder.phone },
                "theme": { "color": "#0b0f14" }
            };
            try {
                const rzp = new Razorpay(options);
                rzp.open();
                document.getElementById('checkout-actions').style.display = 'none';
                document.getElementById('manual-confirm-section').style.display = 'block';
            } catch(err) {
                showToast("Payment failed to open", "error");
            }
        }

        function handleManualConfirmation() {
            const pendingOrderStr = localStorage.getItem('pendingOrder');
            if(!pendingOrderStr) return;
            const orderData = JSON.parse(pendingOrderStr);
            
            document.getElementById('processing-overlay').style.display = 'flex';
            
            db.collection("orders").add({
                ...orderData,
                status: "Completed",
                adminNote: "Manual Confirmation"
            }).then(() => {
                localStorage.removeItem('pendingOrder');
                showToast("Order Confirmed!", "success");
                navigateTo('/thank-you');
            }).catch(err => {
                showToast("Error saving order", "error");
            }).finally(() => {
                document.getElementById('processing-overlay').style.display = 'none';
            });
        }

        // --- HELPERS & FORMS ---
        function handleTicketSubmit(e) {
            e.preventDefault();
            const name = document.getElementById('ticket-name').value;
            const email = document.getElementById('ticket-email').value;
            const type = document.getElementById('ticket-type').value;
            const message = document.getElementById('ticket-message').value;
            
            const ticketData = { name, email, type, message, status: "Open", timestamp: firebase.firestore.FieldValue.serverTimestamp(), userId: auth.currentUser?.uid };
            
            db.collection("tickets").add(ticketData).then(doc => {
                showToast("Ticket Submitted", "success");
                document.getElementById('display-case-id').innerText = `#Ticket-${doc.id.slice(0,4).toUpperCase()}`;
                document.getElementById('case-id-display').style.display = 'block';
                e.target.reset();
            }).catch(err => showToast(err.message, "error"));
        }
        
        function handleHomeLeadSubmit(e) {
            e.preventDefault();
            const data = {
                name: document.getElementById('lead-name').value,
                email: document.getElementById('lead-email').value,
                message: document.getElementById('lead-message').value,
                type: "Lead",
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            };
            db.collection("customer_requests").add(data).then(() => {
                showToast("Message Sent!", "success");
                e.target.reset();
            }).catch(err => showToast(err.message, "error"));
        }

        function handleWebsiteIdeaSubmit(e) {
            e.preventDefault();
            const data = {
                name: document.getElementById('idea-name').value,
                phone: document.getElementById('idea-phone').value,
                email: document.getElementById('idea-email').value,
                type: document.getElementById('idea-type').value,
                details: document.getElementById('idea-message').value,
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                userId: auth.currentUser?.uid
            };
            db.collection("customer_requests").add(data).then(() => {
                const modal = document.getElementById('idea-success-modal');
                modal.style.display = 'flex';
                setTimeout(() => modal.classList.add('active'), 10);
            }).catch(err => showToast(err.message, "error"));
        }
        
        function closeIdeaSuccessModal() {
            const modal = document.getElementById('idea-success-modal');
            modal.classList.remove('active');
            setTimeout(() => { modal.style.display = 'none'; navigateTo('/'); }, 300);
        }

        function handleRequestSubmit(e) {
            e.preventDefault();
            const type = document.querySelector('input[name="req_type"]:checked').value;
            const data = {
                name: document.getElementById('req-name').value,
                phone: document.getElementById('req-phone').value,
                type: type,
                details: document.getElementById(`req-desc-${type}`)?.value || "",
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                userId: auth.currentUser?.uid
            };
            db.collection("customer_requests").add(data).then(() => {
                showToast("Request Sent", "success");
            }).catch(err => showToast(err.message, "error"));
        }

        function handleUpdateTypeChange(type, el) {
            document.querySelectorAll('[name="req_type"]').forEach(i => i.parentElement.classList.remove('selected'));
            if(el) el.classList.add('selected');
            document.querySelectorAll('[id^="field-"]').forEach(d => d.classList.add('hidden'));
            const field = document.getElementById(`field-${type}`);
            if(field) field.classList.remove('hidden');
        }

        // --- REVIEWS ---
        let reviewIndex = 0;
        function startReviews() {
            const slides = document.querySelectorAll('.review-slide');
            setInterval(() => {
                slides.forEach(s => s.classList.remove('active'));
                reviewIndex = (reviewIndex + 1) % slides.length;
                slides[reviewIndex].classList.add('active');
            }, 5000);
        }

        // --- MISC ---
        function openQuoteForm(pkg) { showToast(`Quote request for ${pkg}`, "success"); }
        function openTermsModal() { document.getElementById('termsModal').style.display = 'flex'; }
        function closeTermsModal() { document.getElementById('termsModal').style.display = 'none'; }
        function toggleFaq(el) { el.parentElement.classList.toggle('open'); }
        
        function loadPortfolio() {
            if(!db) return;
            const container = document.getElementById('portfolio-grid');
            db.collection("clients_portfolio").limit(6).get().then(snap => {
                container.innerHTML = '';
                if(snap.empty) container.innerHTML = '<div class="text-center">No items.</div>';
                snap.forEach(doc => {
                    const d = doc.data();
                    container.innerHTML += `<div class="card"><img src="${d.img}" style="height:200px; object-fit:cover; border-radius:12px; width:100%;"><h3 style="margin-top:1rem;">${d.name}</h3></div>`;
                });
            });
        }

        // --- INIT ---
        function handleInitialRoute() {
            const path = window.location.pathname;
            performTransition(routes[path] || 'home');
            document.title = PAGE_TITLES[path] || 'DDNetwork One';
        }
        setTimeout(handleInitialRoute, 100);
    </script>
</body>
</html>
